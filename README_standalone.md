# Mosi圖片轉房間數據產生器 - 純前端版本

## 概述

這是一個完全在瀏覽器中運行的 Mosi 圖片轉房間數據產生器，無需任何伺服器或 Python 環境。所有圖片處理都在客戶端完成，確保隱私和便利性。

## 主要特點

✨ **純前端運行** - 無需伺服器，直接在瀏覽器中運行
🔒 **隱私保護** - 所有圖片處理都在本地完成，不會上傳到任何伺服器
🚀 **即時處理** - 使用 Canvas API 進行快速圖片處理
📱 **響應式設計** - 支援桌面和移動設備
🎨 **智能建議** - 自動計算建議的精靈尺寸
🔄 **房間合併** - 支援多個房間數據的合併功能

## 使用方法

### 1. 基本使用

1. **開啟網頁**
   - 直接雙擊 `index_standalone.html` 檔案
   - 或在瀏覽器中開啟該檔案

2. **載入圖片**
   - 點擊「選擇檔案」按鈕
   - 選擇要轉換的圖片（支援 PNG、JPG、JPEG 格式）
   - 點擊「載入圖片」按鈕

3. **設定參數**
   - **精靈設定**：設定精靈名稱、尺寸、屬性等
   - **房間設定**：設定房間名稱、尺寸等
   - 系統會自動建議合適的精靈尺寸

4. **生成數據**
   - 點擊「生成數據」按鈕
   - 查看生成的 JSON 數據
   - 點擊「下載.JSON文件」保存結果

### 2. 房間合併功能

1. **上傳多個檔案**
   - 選擇多個房間數據的 JSON 檔案
   - 可以拖曳調整檔案順序

2. **合併數據**
   - 點擊「合併房間數據」按鈕
   - 系統會自動合併精靈和瓷磚數據
   - 下載合併後的結果

## 技術說明

### 圖片處理流程

1. **圖片載入**：使用 File API 讀取本地圖片
2. **Canvas 處理**：將圖片繪製到 Canvas 進行像素級處理
3. **二值化轉換**：將彩色圖片轉換為黑白二值圖像
4. **精靈分割**：根據設定的尺寸將圖片分割成精靈
5. **數據生成**：生成符合 Mosi 格式的 JSON 數據

### 支援的圖片格式

- PNG
- JPG/JPEG
- 其他瀏覽器支援的圖片格式

### 輸出格式

生成的 JSON 數據包含：
- 房間基本資訊（名稱、尺寸等）
- 精靈列表（包含像素數據）
- 瓷磚列表（精靈在房間中的位置）
- 腳本列表（預設為空）

## 與原版本的主要差異

| 功能 | 原版本 (Flask) | 純前端版本 |
|------|----------------|------------|
| 運行環境 | 需要 Python 伺服器 | 僅需瀏覽器 |
| 圖片處理 | 伺服器端處理 | 客戶端處理 |
| 檔案上傳 | 需要網路連接 | 完全本地處理 |
| 隱私保護 | 圖片會上傳到伺服器 | 圖片完全在本地處理 |
| 部署難度 | 需要伺服器環境 | 可直接使用 |

## 瀏覽器相容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## 注意事項

1. **圖片尺寸**：建議使用較小的圖片以獲得更好的性能
2. **精靈尺寸**：精靈尺寸必須能整除圖片尺寸
3. **房間尺寸**：房間尺寸不能超過圖片能提供的精靈數量
4. **檔案大小**：過大的圖片可能會影響處理速度

## 故障排除

### 常見問題

**Q: 圖片載入失敗**
A: 檢查圖片格式是否支援，確保檔案沒有損壞

**Q: 生成數據時出現錯誤**
A: 檢查精靈尺寸和房間尺寸設定是否合理

**Q: 下載功能無法使用**
A: 確保瀏覽器允許下載檔案，某些瀏覽器可能需要手動允許

### 效能優化建議

1. 使用適當大小的圖片（建議不超過 1024x1024）
2. 選擇合適的精靈尺寸（通常 8x8 或 16x16）
3. 在較新的瀏覽器中使用以獲得最佳性能

## 授權

本工具基於原始 Mosi 圖片轉房間數據產生器改寫，保留原有的功能和設計風格。

## 聯絡資訊

如有任何問題或建議，歡迎聯繫原作者或查看原始專案頁面。 